all:
  vars:
    cpmeta_icos_domain: meta.icos-cp.eu

    cpmeta_domains:
      - "{{ cpmeta_icos_domain }}"
      - meta.fieldsites.se

    cpdata_domains:
      - data.icos-cp.eu
      - data.fieldsites.se

    cpauth_domains:
      - cpauth.icos-cp.eu
      - auth.fieldsites.se

    doi_domains:
      - doi.icos-cp.eu

    stiltweb_domains:
      - stilt.icos-cp.eu

  children:
    core_host:
      hosts:
        fsicos2.lunarc.lu.se:

      vars:
        coreapp_bind_addr: 127.0.0.1

        # cpmeta - application
        cpmeta_filestorage_target: /disk/data/metaAppStorage
        cpmeta_backup_enable: true
        cpmeta_config_files:
          - application_production.conf
          - application_production_sensitive.conf

        # cpdata - application
        cpdata_filestorage_target: /disk/data/dataAppStorage
        cpdata_config_files:
          - application_production.conf

        # cpauth - application
        cpauth_config_files:
          - application_production.conf

        # stiltweb - application
        # This is where stiltweb keeps it's archive of of stilt files
        stiltweb_statedir: /disk/data/stiltweb
        # The root of the classic stilt data directory (Footprints, RData, etc)
        stiltweb_stiltdir: /disk/data/stilt

    core_server:
      hosts:
        fsicos2.lunarc.lu.se:

      vars:
        coreapp_httpproxy_host: 127.0.0.1

        # cpmeta - proxy
        cpmeta_certbot_name: meta.icos-cp.eu
        cpmeta_nginxsite_name: cpmeta

        # cpdata - proxy
        cpdata_certbot_name: data.icos-cp.eu
        cpdata_nginxsite_name: cpdata

        # cpauth - proxy
        cpauth_certbot_name: cpauth.icos-cp.eu
        cpauth_nginxsite_name: cpauth

        # restheart - proxy
        restheart_nginxsite_name: restheart
        restheart_certbot_name: restheart.icos-cp.eu
        restheart_domains:
          - restheart.icos-cp.eu

        # doi - proxy
        doi_certbot_name: doi.icos-cp.eu
        doi_nginxsite_name: doi
