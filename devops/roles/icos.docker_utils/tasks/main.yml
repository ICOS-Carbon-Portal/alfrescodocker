- name: Copy docker helper scripts
  copy:
    src: "{{ item }}"
    dest: "/usr/local/sbin/{{ item }}"
    mode: +x
  loop:
    - docker-unpack-image
    - docker-lineage
    - docker-list-ips
    - docker-entrypoint
    - docker-extract
    - docker-builds
    - docker-enter

- include_role:
    name: icos.github_download_bin
    apply:
      tags: docker_utils
  vars:
    dbin_user: bcicen
    dbin_repo: ctop
    dbin_unar: false
    # https://github.com/bcicen/ctop/releases/
    dbin_url: "{{ dbin__down }}/v{{ dbin__vers }}/ctop-{{ dbin__vers }}-linux-{{ ctop_arch }}"

- include_role:
    name: icos.github_download_bin
    apply:
      tags: docker_utils
  vars:
    dbin_user: wagoodman
    dbin_repo: dive
    dbin_src: dive
    # https://github.com/wagoodman/dive/releases
    dbin_url: "{{ dbin__down }}/v{{ dbin__vers }}/{{ dbin_repo }}_{{ dbin__vers }}_linux_{{ dive_arch }}.tar.gz"

- include_role:
    name: icos.github_download_bin
    apply:
      tags: docker_utils
  vars:
    dbin_user: jesseduffield
    dbin_repo: lazydocker
    dbin_src: lazydocker
    # https://github.com/jesseduffield/lazydocker/releases
    dbin_url: "{{ dbin__down }}/v{{ dbin__vers }}/{{ dbin_repo }}_{{ dbin__vers }}_Linux_{{ lazydocker_arch }}.tar.gz"
