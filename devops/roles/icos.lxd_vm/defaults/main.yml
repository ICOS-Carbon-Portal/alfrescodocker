lxd_vm_ip: "{{ _lxd.addresses.eth0 | first }}"
lxd_vm_port: "{{ hostvars[lxd_vm_name].ansible_port }}"

# By default, we enable ssh port forward from a host on the host to the VM. The
# exception is when the VM uses the macvlan profile.
lxd_vm_forward: true
lxd_vm_root_key: "{{ vault_lxd_ssh_pub }}"

# When a separate btrfs pool is used, this is the default size.
lxd_vm_root_size: 50GB
lxd_vm_docker: False

lxd_vm_profiles: []
lxd_vm_devices: {}
lxd_vm_config: {}

# The variables are used to pass arguments to the lxd_container module. The
# arguments will be a merge of default values and values passed by user.
__lxd_vm_profiles: "{{ lxd_vm_default_profiles + lxd_vm_profiles }}"
__lxd_vm_devices: "{{ lxd_vm_default_devices | combine(lxd_vm_devices) }}"
__lxd_vm_config: "{{ lxd_vm_default_config | combine(lxd_vm_config) }}"

lxd_source:
  type: image
  mode: pull
  server: https://cloud-images.ubuntu.com/releases
  protocol: simplestreams
  alias: "22.04"
