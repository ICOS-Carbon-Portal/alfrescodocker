node_exporter_user: node_exporter
node_exporter_home: /opt/node_exporter
node_exporter_download: "{{ node_exporter_home }}/download"

# https://github.com/prometheus/node_exporter#textfile-collector
node_exporter_textfiles: "{{ node_exporter_home }}/textfiles"
node_exporter_environ: "{{ node_exporter_home }}/environ"
node_exporter_scripts: "{{ node_exporter_home }}/textfile-collector-scripts"

# Will be symlinked here by the download_github_bin role.
node_exporter_bin: /usr/local/sbin/node_exporter

# SMARTMON COLLECTOR
smartmon_enable: false
smartmon_home: "{{ node_exporter_home }}/smartmon"
smartmon_py: "{{ node_exporter_scripts }}/smartmon.py"
smartmon_prom: "{{ node_exporter_textfiles }}/smartmon.prom"


# DIRSIZE COLLECTOR
dirsize_enable: false
dirsize_home: "{{ node_exporter_home }}/directory-size"
dirsize_sh: "{{ node_exporter_scripts }}/directory-size.sh"
dirsize_dirnames: "{{ dirsize_home }}/dirnames.txt"
dirsize_prom: "{{ node_exporter_textfiles }}/directory-size.prom"

# The initial list of directories.
dirsize_initial: []

# By default we restart node_exporter if the service file or the environment
# has changed or if a new version has been downloaded.
node_exporter_state: |-
  {{ 'restarted' if (_srv.changed or _env.changed or dbin_download.changed) else 'started' }}

# DOCKER COLLECTOR
dockermon_enable: false
dockermon_home: "{{ node_exporter_home }}/dockermon"
dockermon_prom: "{{ node_exporter_textfiles }}/dockermon.prom"
