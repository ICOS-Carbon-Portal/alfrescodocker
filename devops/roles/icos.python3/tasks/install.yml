- name: Add ppa:deadsnakes repository
  apt_repository:
    repo: ppa:deadsnakes/ppa

- name: Install python {{ python3_version }}
  apt:
    update_cache: yes
    name:
      - "python{{ python3_version }}-venv"

- name: Install pip
  command: |
    curl -sS https://bootstrap.pypa.io/get-pip.py | {{ python3_command }}
  args:
    creates: "/usr/local/bin/{{ python3_pip }}"
